<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>å¼Ÿå…„è®€æ›¸æœƒ Zoom åœ–ç‰‡ç·¨è¼¯å™¨ï¼ˆæœ¬åœ°ç‰ˆï¼‰</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0; padding: 20px;
      font-family: "Microsoft JhengHei", "PingFang TC", sans-serif;
      background: radial-gradient(circle at 20% 20%, #f0f4ff 0%, #e9ecff 35%, #e7e7f9 100%);
      color: #2c3e50;
    }
    .container {
      max-width: 1400px; margin: 0 auto;
      background: #fff; border-radius: 16px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.1); overflow: hidden;
      border: 1px solid #e6e8f2;
    }
    .header {
      background: linear-gradient(135deg,#2c3e50,#3b4a5e);
      color: #fff; padding: 22px; text-align: center;
    }
    .header h1 { margin: 0 0 8px; font-size: 22px; font-weight: 600; letter-spacing: 0.5px; }
    .header p { margin: 0; opacity: 0.9; font-size: 13px; }
    .content { display: grid; grid-template-columns: 360px 1fr; gap: 0; min-height: 680px; }
    .sidebar {
      background: #f7f8fc; border-right: 1px solid #edf0f7; padding: 18px;
      overflow-y: auto;
    }
    .group { background: #fff; border: 1px solid #eceff6; border-radius: 12px; padding: 12px; margin-bottom: 12px; }
    .group h3 {
      margin: 0 0 10px; font-size: 14px; color: #3b4a5e;
      border-bottom: 2px solid #6a7deb33; padding-bottom: 6px; font-weight: 600;
    }
    .upload {
      border: 2px dashed #6a7deb; border-radius: 12px; padding: 14px; text-align: center;
      background: #f0f3ff; cursor: pointer;
    }
    .upload:hover { background: #e9edff; }
    .file-name { font-size: 12px; color: #667; margin-top: 6px; }
    .preset-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; }
    .preset { padding: 8px; border: 1px solid #e5e9f4; border-radius: 8px; background: #fff; cursor: pointer; text-align: center; font-size: 12px; }
    .preset:hover { border-color: #6a7deb; background: #f7f9ff; }
    .row { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; margin-top: 6px; }
    .row3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 6px; margin-top: 6px; }
    .row label { font-size: 11px; color: #556; }
    input[type="color"], input[type="number"], select {
      width: 100%; padding: 6px; border: 1px solid #dfe3ee; border-radius: 6px; background: #fff; font-size: 11px;
    }
    .emoji-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; }
    .emoji-btn {
      border: 1px solid #e5e9f4; background: #fff; border-radius: 8px; padding: 8px; cursor: pointer; font-size: 16px;
    }
    .emoji-btn:hover { border-color: #6a7deb; background: #f7f9ff; }
    .text-row { display: grid; grid-template-columns: 2fr 1fr; gap: 6px; }
    .btn {
      width: 100%; border: none; border-radius: 8px; padding: 8px; cursor: pointer; font-size: 12px;
      color: #fff; background: linear-gradient(135deg,#6a7deb,#8b6ad6);
      box-shadow: 0 4px 12px rgba(106,125,235,0.25);
    }
    .btn:hover { transform: translateY(-1px); }
    .btn-secondary { background: linear-gradient(135deg,#8793a8,#6c7a90); }
    .btn-success { background: linear-gradient(135deg,#22b573,#1fae66); }
    .main {
      padding: 18px; display: flex; flex-direction: column; height: 100%;
    }
    .canvas-wrap {
      width: 100%; max-width: 100%; flex: 1;
      border: 2px solid #edf0f7; border-radius: 14px; background: #fafbff;
      box-shadow: 0 10px 24px rgba(0,0,0,0.08); padding: 12px;
      display: flex; flex-direction: column;
    }
    canvas { background: #fff; border-radius: 10px; flex: 1; }
    .status { margin-top: 8px; font-size: 11px; color: #3b4a5e; text-align: center; }
    .chip {
      display: inline-block; padding: 4px 8px; border-radius: 999px; background: #f0f3ff; color: #445; font-size: 11px; border: 1px solid #e2e6fb;
    }
    .small { font-size: 10px; color: #667; }
    
    /* åº•éƒ¨æ§åˆ¶åŒºæ ·å¼ */
    .bottom-controls {
      margin-top: 10px;
      padding: 12px;
      background: #fff;
      border: 1px solid #eceff6;
      border-radius: 12px;
    }
    
    .frame-controls-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin-bottom: 10px;
    }
    
    .frame-side-control {
      background: #f7f8fc;
      border-radius: 8px;
      padding: 10px;
    }
    
    .frame-side-control h4 {
      margin: 0 0 6px 0;
      font-size: 12px;
      color: #3b4a5e;
      text-align: center;
    }

    @media (max-width: 768px) {
      .content {
        flex-direction: column;
      }
      .sidebar {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid #e0e4f0;
      }
      .main-content, .canvas-wrap {
        width: 100%;
        max-width: 100%;
        overflow-x: auto;
      }
      canvas {
        width: 100%;
        height: auto;
      }
      .control-group, .upload-area {
        margin-bottom: 20px;
      }
      .frame-preview, .sticker-grid {
        grid-template-columns: 1fr 1fr;
      }
      .frame-controls-grid {
        grid-template-columns: 1fr 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>å¼Ÿå…„è®€æ›¸æœƒ Zoom åœ–ç‰‡ç·¨è¼¯å™¨ï¼ˆæœ¬åœ°ç‰ˆï¼‰</h1>
      <p>ä¸Šå‚³æˆªåœ– â†’ ç›¸æ¡† â†’ æ‰‹å‹¢åœ–æ¡ˆ â†’ æ–‡å­— â†’ ä¸€éµä¸‹è¼‰</p>
    </div>
    <div class="content">
      <aside class="sidebar">
        <div class="group upload" onclick="document.getElementById('file').click()">
          <div>ğŸ“ ä¸Šå‚³ Zoom æˆªåœ–</div>
          <input id="file" type="file" accept="image/*" style="display:none">
          <div class="file-name" id="fileName">æœªé¸æ“‡æª”æ¡ˆ</div>
        </div>

        <div class="group">
          <h3>ğŸ¨ é è¨­ç›¸æ¡†</h3>
          <div class="preset-grid">
            <button class="preset" onclick="applyPreset('glory')">æ¦®è€€é‡‘æ¡†</button>
            <button class="preset" onclick="applyPreset('elegant')">å°Šè²´ç´«æ¡†</button>
            <button class="preset" onclick="applyPreset('minimal')">ç°¡ç´„ç™½æ¡†</button>
            <button class="preset" onclick="applyPreset('fresh')">æ¸…æ–°è—æ¡†</button>
          </div>
        </div>

        <div class="group">
          <h3>ğŸ‘ æ‰‹å‹¢åœ–æ¡ˆ / å±¬éˆç¬¦è™Ÿ</h3>
          <div class="emoji-grid">
            <button class="emoji-btn" onclick="addEmoji('ğŸ™Œ')">ğŸ™Œ è®šç¾</button>
            <button class="emoji-btn" onclick="addEmoji('ğŸ™')">ğŸ™ ç¦±å‘Š</button>
            <button class="emoji-btn" onclick="addEmoji('ğŸ‘')">ğŸ‘ é¼“æŒ</button>
            <button class="emoji-btn" onclick="addEmoji('âœŒï¸')">âœŒï¸ å–œæ¨‚</button>
            <button class="emoji-btn" onclick="addEmoji('âœï¸')">âœï¸ åå­—æ¶</button>
            <button class="emoji-btn" onclick="addEmoji('ğŸŒ¿')">ğŸŒ¿ æ©„æ¬–æ</button>
            <button class="emoji-btn" onclick="addEmoji('ğŸ”¥')">ğŸ”¥ ç«ç„°</button>
            <button class="emoji-btn" onclick="addEmoji('ğŸ‘‹')">ğŸ‘‹ æ®æ‰‹</button>
          </div>
        </div>

        <div class="group">
          <h3>ğŸ“ æ–‡å­—æ¡†</h3>
          <div class="text-row">
            <input id="textInput" type="text" placeholder="è¼¸å…¥æ–‡å­—ï¼Œä¾‹å¦‚ï¼šä¸»æ—¥ä¿¡æ¯ã€ç‚ºä½ ç¦±å‘Š" />
            <button class="btn-secondary btn" onclick="addText()">åŠ å…¥æ–‡å­—</button>
          </div>
          <div class="row" style="margin-top:6px">
            <label>æ–‡å­—é¡è‰²</label><input type="color" id="textColor" value="#2c3e50" />
          </div>
          <div class="row3">
            <label>å­—é«”å¤§å°</label><input type="number" id="fontSize" value="28" min="10" max="120" />
            <select id="fontWeight">
              <option value="normal">æ¨™æº–</option>
              <option value="bold">ç²—é«”</option>
            </select>
            <select id="textBg">
              <option value="none">ç„¡èƒŒæ™¯</option>
              <option value="chip">åœ“è§’è† å›Š</option>
              <option value="plate">æ·¡è‰²åº•æ¿</option>
            </select>
          </div>
        </div>

        <div class="group">
          <h3>ğŸ“¥ åŒ¯å‡º</h3>
          <button class="btn-success btn" onclick="download()">ä¸‹è¼‰ PNG</button>
          <div class="status" id="status">æº–å‚™å°±ç·’</div>
        </div>
      </aside>

      <main class="main">
        <div class="canvas-wrap">
          <canvas id="c" width="960" height="540"></canvas>
        </div>

        <!-- åº•éƒ¨æ§åˆ¶åŒºï¼šå››è¾¹è‡ªè®¢ç›¸æ¡† -->
        <div class="bottom-controls">
          <h3 style="margin-top: 0; font-size: 14px;">ğŸŒˆ å››é‚Šè‡ªè¨‚ç›¸æ¡†</h3>
          <div class="frame-controls-grid">
            <!-- ä¸Šè¾¹æ¡†æ§åˆ¶ -->
            <div class="frame-side-control">
              <h4>ä¸Šé‚Šæ¡†</h4>
              <div class="row">
                <label>é¡è‰²</label><input type="color" id="topColor" value="#d4af37">
              </div>
              <div class="row">
                <label>å¯¬åº¦(px)</label><input type="number" id="topWidth" value="16" min="0">
              </div>
              <div class="row">
                <label>æ¨£å¼</label>
                <select id="topStyle">
                  <option value="solid">å¯¦ç·š</option>
                  <option value="dash">è™›ç·š</option>
                  <option value="dot">é»ç·š</option>
                  <option value="gradient">æ¼¸è®Š</option>
                </select>
              </div>
            </div>
            
            <!-- ä¸‹è¾¹æ¡†æ§åˆ¶ -->
            <div class="frame-side-control">
              <h4>ä¸‹é‚Šæ¡†</h4>
              <div class="row">
                <label>é¡è‰²</label><input type="color" id="bottomColor" value="#d4af37">
              </div>
              <div class="row">
                <label>å¯¬åº¦(px)</label><input type="number" id="bottomWidth" value="16" min="0">
              </div>
              <div class="row">
                <label>æ¨£å¼</label>
                <select id="bottomStyle">
                  <option value="solid">å¯¦ç·š</option>
                  <option value="dash">è™›ç·š</option>
                  <option value="dot">é»ç·š</option>
                  <option value="gradient">æ¼¸è®Š</option>
                </select>
              </div>
            </div>
            
            <!-- å·¦è¾¹æ¡†æ§åˆ¶ -->
            <div class="frame-side-control">
              <h4>å·¦é‚Šæ¡†</h4>
              <div class="row">
                <label>é¡è‰²</label><input type="color" id="leftColor" value="#d4af37">
              </div>
              <div class="row">
                <label>å¯¬åº¦(px)</label><input type="number" id="leftWidth" value="16" min="0">
              </div>
              <div class="row">
                <label>æ¨£å¼</label>
                <select id="leftStyle">
                  <option value="solid">å¯¦ç·š</option>
                  <option value="dash">è™›ç·š</option>
                  <option value="dot">é»ç·š</option>
                  <option value="gradient">æ¼¸è®Š</option>
                </select>
              </div>
            </div>
            
            <!-- å³è¾¹æ¡†æ§åˆ¶ -->
            <div class="frame-side-control">
              <h4>å³é‚Šæ¡†</h4>
              <div class="row">
                <label>é¡è‰²</label><input type="color" id="rightColor" value="#d4af37">
              </div>
              <div class="row">
                <label>å¯¬åº¦(px)</label><input type="number" id="rightWidth" value="16" min="0">
              </div>
              <div class="row">
                <label>æ¨£å¼</label>
                <select id="rightStyle">
                  <option value="solid">å¯¦ç·š</option>
                  <option value="dash">è™›ç·š</option>
                  <option value="dot">é»ç·š</option>
                  <option value="gradient">æ¼¸è®Š</option>
                </select>
              </div>
            </div>
          </div>
          
          <div style="text-align: center;">
            <button class="btn" onclick="applyCustomFrame()" style="width: auto; padding: 6px 16px; font-size: 12px;">æ‡‰ç”¨å››é‚Šç›¸æ¡†</button>
          </div>
          <div class="small" style="text-align: center; margin-top: 6px;">æç¤ºï¼šç›¸æ¡†å§‹çµ‚ç½®é ‚ï¼›ä¸‹è¼‰çµæœèˆ‡ç•«å¸ƒä¸€è‡´ã€‚</div>
        </div>

        <div class="status"><span class="chip">ç•«å¸ƒï¼š960 Ã— 540</span></div>
      </main>
    </div>
  </div>

  <script>
    // Core state
    const canvas = document.getElementById('c');
    const ctx = canvas.getContext('2d');
    const statusEl = document.getElementById('status');

    const state = {
      bgImage: null,
      elements: [], // {type: 'emoji'|'text'|'frame-segment', ...}
      frame: { top: {}, bottom: {}, left: {}, right: {} },
    };

    function setStatus(msg) { statusEl.textContent = msg; }

    // Image handling
    document.getElementById('file').addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (!file) return;
      document.getElementById('fileName').textContent = file.name;
      const reader = new FileReader();
      reader.onload = () => {
        const img = new Image();
        img.onload = () => {
          state.bgImage = img;
          fitImageToCanvas(img);
          redraw();
          setStatus('âœ… åœ–ç‰‡å·²è¼‰å…¥');
        };
        img.src = reader.result;
      };
      reader.readAsDataURL(file);
    });

    function fitImageToCanvas(img) {
      // Scale to fit into canvas bounds, center
      const cw = canvas.width, ch = canvas.height;
      const iw = img.width, ih = img.height;
      const scale = Math.min(cw / iw, ch / ih)*0.85;
      const w = iw * scale, h = ih * scale;
      state.bgRect = { x: (cw - w)/2, y: (ch - h)/2, w, h };
    }

    // Drawing primitives
    function clearCanvas() { ctx.clearRect(0,0,canvas.width,canvas.height); }

    function drawImage() {
      if (!state.bgImage || !state.bgRect) return;
      const r = state.bgRect;
      ctx.drawImage(state.bgImage, r.x, r.y, r.w, r.h);
    }

    function drawFrameSide(side, opt) {
      const { color, width, style, gradientFrom, gradientTo } = opt;
      if (!width || width <= 0) return;

      let strokeStyle = color;
      if (style === 'gradient') {
        const g = (side === 'top' || side === 'bottom')
          ? ctx.createLinearGradient(0, 0, canvas.width, 0)
          : ctx.createLinearGradient(0, 0, 0, canvas.height);
        g.addColorStop(0, gradientFrom || color);
        g.addColorStop(1, gradientTo || '#ffffff');
        strokeStyle = g;
      }

      ctx.save();
      ctx.lineWidth = width;
      ctx.strokeStyle = strokeStyle;
      if (style === 'dash') ctx.setLineDash([14,8]);
      if (style === 'dot') ctx.setLineDash([3,6]);

      // Align to pixel to avoid blur
      const half = width / 2;
      if (side === 'top') {
        ctx.beginPath(); ctx.moveTo(0, half); ctx.lineTo(canvas.width, half); ctx.stroke();
      } else if (side === 'bottom') {
        ctx.beginPath(); ctx.moveTo(0, canvas.height - half); ctx.lineTo(canvas.width, canvas.height - half); ctx.stroke();
      } else if (side === 'left') {
        ctx.beginPath(); ctx.moveTo(half, 0); ctx.lineTo(half, canvas.height); ctx.stroke();
      } else if (side === 'right') {
        ctx.beginPath(); ctx.moveTo(canvas.width - half, 0); ctx.lineTo(canvas.width - half, canvas.height); ctx.stroke();
      }
      ctx.restore();
    }

    function drawEmoji(el) {
      ctx.save();
      ctx.font = `${el.size}px system-ui, Apple Color Emoji, Segoe UI Emoji, Noto Color Emoji`;
      ctx.textBaseline = 'top';
      ctx.fillText(el.text, el.x, el.y);
      ctx.restore();
    }

    function drawText(el) {
      ctx.save();
      ctx.font = `${el.weight} ${el.size}px "Microsoft JhengHei","PingFang TC",sans-serif`;
      ctx.textBaseline = 'top';
      ctx.fillStyle = el.color;

      if (el.bg && el.bg !== 'none') {
        const m = ctx.measureText(el.text);
        const w = m.width + 16, h = el.size + 12;
        const x = el.x - 8, y = el.y - 6;
        if (el.bg === 'chip') {
          roundRect(ctx, x, y, w, h, 999, '#f0f3ff', '#e2e6fb');
        } else if (el.bg === 'plate') {
          roundRect(ctx, x, y, w, h, 10, '#f8f9ff', '#e9edf8');
        }
      }

      ctx.fillText(el.text, el.x, el.y);
      ctx.restore();
    }

    function roundRect(ctx, x, y, w, h, r, fill, stroke) {
      ctx.save();
      ctx.beginPath();
      ctx.moveTo(x + r, y);
      ctx.arcTo(x + w, y, x + w, y + h, r);
      ctx.arcTo(x + w, y + h, x, y + h, r);
      ctx.arcTo(x, y + h, x, y, r);
      ctx.arcTo(x, y, x + w, y, r);
      ctx.closePath();
      if (fill) { ctx.fillStyle = fill; ctx.fill(); }
      if (stroke) { ctx.strokeStyle = stroke; ctx.stroke(); }
      ctx.restore();
    }

    // Redraw pipeline
    function redraw() {
      clearCanvas();
      drawImage();
      // content
      for (const el of state.elements) {
        if (el.type === 'emoji') drawEmoji(el);
        if (el.type === 'text') drawText(el);
      }
      // frame on top
      drawFrameSide('top', state.frame.top);
      drawFrameSide('bottom', state.frame.bottom);
      drawFrameSide('left', state.frame.left);
      drawFrameSide('right', state.frame.right);
    }

    // Preset frames
    function applyPreset(name) {
      if (name === 'glory') {
        setFrameAll({
          color: '#d4af37', width: 18, style: 'gradient',
          gradientFrom: '#f9e27d', gradientTo: '#c08c2a'
        });
      } else if (name === 'elegant') {
        setFrameAll({
          color: '#7a5fd1', width: 16, style: 'gradient',
          gradientFrom: '#b29dff', gradientTo: '#5b3fb3'
        });
      } else if (name === 'minimal') {
        setFrameAll({ color: '#ffffff', width: 14, style: 'solid' });
      } else if (name === 'fresh') {
        setFrameAll({
          color: '#3b82f6', width: 16, style: 'dash'
        });
      }
      redraw();
      setStatus('ğŸ¨ å·²å¥—ç”¨é è¨­ç›¸æ¡†');
    }

    function setFrameAll(opt) {
      state.frame.top = { ...opt };
      state.frame.bottom = { ...opt };
      state.frame.left = { ...opt };
      state.frame.right = { ...opt };
    }

    // Custom frame
    function applyCustomFrame() {
      state.frame.top = {
        color: document.getElementById('topColor').value,
        width: +document.getElementById('topWidth').value,
        style: document.getElementById('topStyle').value,
        gradientFrom: document.getElementById('topColor').value,
        gradientTo: '#ffffff'
      };
      state.frame.bottom = {
        color: document.getElementById('bottomColor').value,
        width: +document.getElementById('bottomWidth').value,
        style: document.getElementById('bottomStyle').value,
        gradientFrom: document.getElementById('bottomColor').value,
        gradientTo: '#ffffff'
      };
      state.frame.left = {
        color: document.getElementById('leftColor').value,
        width: +document.getElementById('leftWidth').value,
        style: document.getElementById('leftStyle').value,
        gradientFrom: document.getElementById('leftColor').value,
        gradientTo: '#ffffff'
      };
      state.frame.right = {
        color: document.getElementById('rightColor').value,
        width: +document.getElementById('rightWidth').value,
        style: document.getElementById('rightStyle').value,
        gradientFrom: document.getElementById('rightColor').value,
        gradientTo: '#ffffff'
      };
      redraw();
      setStatus('ğŸŒˆ å·²æ‡‰ç”¨è‡ªè¨‚å››é‚Šç›¸æ¡†');
    }

    // Add emoji
    function addEmoji(text) {
      const el = { type: 'emoji', text, x: 15, y: 15, size: 56 };
      state.elements.push(el);
      attachDrag(el);
      redraw();
      setStatus('ğŸ‘ å·²åŠ å…¥æ‰‹å‹¢åœ–æ¡ˆ/ç¬¦è™Ÿ');
    }

    // Add text
    function addText() {
      const text = document.getElementById('textInput').value.trim();
      if (!text) return;
      const color = document.getElementById('textColor').value;
      const size = +document.getElementById('fontSize').value;
      const weight = document.getElementById('fontWeight').value;
      const bg = document.getElementById('textBg').value;
  	  ctx.font = `${weight} ${size}px "Microsoft JhengHei","PingFang TC",sans-serif`;
	  const el = {
				  type: 'text',
				  text,
				  size,
				  color,
				  weight,
				  bg,
				  x: (canvas.width - ctx.measureText(text).width) / 2,
				  y: canvas.height - size - 20
				};
		state.elements.push(el);
      attachDrag(el);
      redraw();
      setStatus('ğŸ“ å·²åŠ å…¥æ–‡å­—');
    }

    // Simple drag system for elements
    let dragTarget = null;
    let dragOffset = { x: 0, y: 0 };

    canvas.addEventListener('mousedown', (e) => {
      const pos = getMousePos(e);
      dragTarget = hitTest(pos);
      if (dragTarget) {
        dragOffset.x = pos.x - dragTarget.x;
        dragOffset.y = pos.y - dragTarget.y;
      }
    });
    canvas.addEventListener('mousemove', (e) => {
      if (!dragTarget) return;
      const pos = getMousePos(e);
      dragTarget.x = pos.x - dragOffset.x;
      dragTarget.y = pos.y - dragOffset.y;
      redraw();
    });
    canvas.addEventListener('mouseup', () => { dragTarget = null; });
    canvas.addEventListener('mouseleave', () => { dragTarget = null; });

    function getMousePos(e) {
      const rect = canvas.getBoundingClientRect();
      return { x: e.clientX - rect.left, y: e.clientY - rect.top };
    }

    function hitTest(pos) {
      // Naive hit-test: check text/emoji boxes
      for (let i = state.elements.length - 1; i >= 0; i--) {
        const el = state.elements[i];
        if (el.type === 'emoji') {
          // approximate emoji size box
          const w = el.size, h = el.size;
          if (pos.x >= el.x && pos.x <= el.x + w && pos.y >= el.y && pos.y <= el.y + h) return el;
        } else if (el.type === 'text') {
          ctx.save();
          ctx.font = `${el.weight} ${el.size}px "Microsoft JhengHei","PingFang TC",sans-serif`;
          const w = ctx.measureText(el.text).width;
          ctx.restore();
          const h = el.size + 8;
          if (pos.x >= el.x && pos.x <= el.x + w && pos.y >= el.y && pos.y <= el.y + h) return el;
        }
      }
      return null;
    }

    function attachDrag(el) {
      // no-op placeholder (drag handled globally)
    }

    // Download
    function download() {
      const a = document.createElement('a');
      a.href = canvas.toDataURL('image/png');
      a.download = 'zoom_edited.png';
      a.click();
      setStatus('âœ… å·²ä¸‹è¼‰ PNG');
    }

    // Initial frame (subtle minimal)
    setFrameAll({ color: '#e6e8f2', width: 10, style: 'solid' });
    redraw();
  </script>
</body>
</html>
